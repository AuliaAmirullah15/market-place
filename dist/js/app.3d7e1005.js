(function(e){function t(t){for(var r,i,o=t[0],s=t[1],u=t[2],d=0,b=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==c[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03ff":function(e,t,n){},"05ac":function(e,t,n){"use strict";n("d63a")},"0cf6":function(e,t,n){"use strict";n("eda3")},"0fd8":function(e,t,n){"use strict";n("bde8")},1465:function(e,t,n){"use strict";n("7bd6")},2086:function(e,t,n){},"2dc1":function(e,t,n){},"34ef":function(e,t,n){"use strict";n("38d1")},"38d1":function(e,t,n){},"38da":function(e,t,n){},"3aaa":function(e,t,n){},"3f2b":function(e,t,n){"use strict";n("e5b9")},4007:function(e,t,n){"use strict";n("2dc1")},4671:function(e,t,n){"use strict";n("38da")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=n("6c02");n("a4d3"),n("e01a");Object(r["x"])("data-v-44b2dd46");var a={class:"row"},i={class:"info"},o=Object(r["j"])(" Description: "),s=Object(r["i"])("br",null,null,-1),u={class:"contact"},l=Object(r["i"])("h2",null,"Interested? Reach out now!",-1),d=Object(r["j"])("Contact");function b(e,t,n,c,b,f){var j=Object(r["C"])("base-badge"),h=Object(r["C"])("base-card"),O=Object(r["C"])("base-button"),m=Object(r["C"])("router-view");return Object(r["u"])(),Object(r["h"])("div",a,[Object(r["i"])("section",i,[Object(r["k"])(h,null,{default:Object(r["K"])((function(){return[Object(r["i"])("h2",null,Object(r["F"])(f.fullName),1),Object(r["i"])("h3",null,"Price: $"+Object(r["F"])(f.rate)+"/ hour",1),o,s,Object(r["i"])("p",null,Object(r["F"])(f.description),1),(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(f.areas,(function(e){return Object(r["u"])(),Object(r["f"])(j,{key:e,type:e,title:e},null,8,["type","title"])})),128))]})),_:1})]),Object(r["i"])("section",u,[Object(r["k"])(h,null,{default:Object(r["K"])((function(){return[Object(r["i"])("header",null,[l,Object(r["k"])(O,{link:"",to:f.contactLink},{default:Object(r["K"])((function(){return[d]})),_:1},8,["to"])]),Object(r["k"])(m)]})),_:1})])])}Object(r["v"])();n("7db0");var f={props:["id"],data:function(){return{selectedCoach:null}},computed:{fullName:function(){return this.selectedCoach.firstName+" "+this.selectedCoach.lastName},areas:function(){return this.selectedCoach.areas},rate:function(){return this.selectedCoach.hourlyRate},description:function(){return this.selectedCoach.description},contactLink:function(){return this.$route.path+"/"+this.id+"/"}},created:function(){var e=this;this.selectedCoach=this.$store.getters["coaches/coaches"].find((function(t){return t.id===e.id}))}};n("3f2b");f.render=b,f.__scopeId="data-v-44b2dd46";var j=f;Object(r["x"])("data-v-654cd45b");var h={class:"row"},O={class:"col-lg-3 col-sm-12"},m={class:"flex-grow-1"},p={class:"controls"},v=Object(r["j"])("Refresh"),g=Object(r["j"])("Login to Register as Coach"),k=Object(r["j"])("Register as Coach"),y={key:0},C={key:1,class:"row"},w={key:2};function I(e,t,n,c,a,i){var o=Object(r["C"])("base-dialog"),s=Object(r["C"])("coach-filter"),u=Object(r["C"])("base-button"),l=Object(r["C"])("base-spinner"),d=Object(r["C"])("coach-item"),b=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("div",null,[Object(r["k"])(o,{show:!!a.error,title:"An error occured",onClose:i.handleError},{default:Object(r["K"])((function(){return[Object(r["i"])("p",null,Object(r["F"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])("div",h,[Object(r["i"])("section",O,[Object(r["k"])(s,{onChangeFilter:i.setFilters},null,8,["onChangeFilter"])]),Object(r["i"])("section",m,[Object(r["k"])(b,null,{default:Object(r["K"])((function(){return[Object(r["i"])("div",p,[Object(r["k"])(u,{onClick:t[0]||(t[0]=function(e){return i.loadCoaches(!0)}),mode:"outline"},{default:Object(r["K"])((function(){return[v]})),_:1}),i.isLoggedIn?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["f"])(u,{key:0,link:"",to:"/auth?redirect=register"},{default:Object(r["K"])((function(){return[g]})),_:1})),!i.isLoggedIn||i.isCoach||a.isLoading?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["f"])(u,{key:1,link:"",to:"/register"},{default:Object(r["K"])((function(){return[k]})),_:1}))]),a.isLoading?(Object(r["u"])(),Object(r["h"])("div",y,[Object(r["k"])(l)])):i.hasCoaches?(Object(r["u"])(),Object(r["h"])("div",C,[(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(i.filteredCoaches,(function(e){return Object(r["u"])(),Object(r["f"])(d,{key:e.id,id:e.id,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","first-name","last-name","rate","areas"])})),128))])):(Object(r["u"])(),Object(r["h"])("h3",w,"No coaches found."))]})),_:1})])])])}Object(r["v"])();var x=n("1da1");n("96cf"),n("4de4"),n("caad"),n("2532");Object(r["x"])("data-v-1b4dc4e4");var _={class:"card-wrapper"},L={class:"card"},q=Object(r["i"])("img",{src:"https://99designs-blog.imgix.net/blog/wp-content/uploads/2018/03/GRAPHIC-DESIGNER-DESCRIPTION.jpg?auto=format&q=60&w=1860&h=1046.25&fit=crop&crop=faces",class:"img-control"},null,-1),F={class:"desc"},R={class:"actions"},V=Object(r["j"])("Contact"),N=Object(r["j"])("View Details");function A(e,t,n,c,a,i){var o=Object(r["C"])("base-badge"),s=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("div",_,[Object(r["i"])("div",L,[q,Object(r["i"])("div",F,[Object(r["i"])("h3",null,Object(r["F"])(i.fullName),1),Object(r["i"])("h4",null,"$"+Object(r["F"])(n.rate)+"/hour",1),Object(r["i"])("div",null,[(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(n.areas,(function(e){return Object(r["u"])(),Object(r["f"])(o,{key:e,type:e,title:e},null,8,["type","title"])})),128))]),Object(r["i"])("div",R,[Object(r["k"])(s,{mode:"outline",link:"",to:i.coachContactLink},{default:Object(r["K"])((function(){return[V]})),_:1},8,["to"]),Object(r["k"])(s,{link:"",to:i.coachDetailsLink},{default:Object(r["K"])((function(){return[N]})),_:1},8,["to"])])])])])}function S(e,t,n,c,a,i){return Object(r["u"])(),Object(r["h"])("span",{class:Object(r["q"])(["badge",n.type])},Object(r["F"])(i.text),3)}Object(r["v"])();var $={props:["type","title"],computed:{text:function(){return this.title.toUpperCase()}}};n("80e8");$.render=S,$.__scopeId="data-v-4b2af354";var B=$;n("9911");function K(e,t,n,c,a,i){var o=Object(r["C"])("router-link");return n.link?(Object(r["u"])(),Object(r["f"])(o,{key:1,to:n.to,class:Object(r["q"])(n.mode)},{default:Object(r["K"])((function(){return[Object(r["B"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):(Object(r["u"])(),Object(r["h"])("button",{key:0,class:Object(r["q"])(n.mode)},[Object(r["B"])(e.$slots,"default",{},void 0,!0)],2))}var E={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};n("0cf6");E.render=K,E.__scopeId="data-v-0c702154";var U=E,D={components:{BaseButton:U,BaseBadge:B},props:["id","firstName","lastName","rate","areas"],computed:{fullName:function(){return this.firstName+" "+this.lastName},coachContactLink:function(){return this.$route.path+"/"+this.id+"/contact"},coachDetailsLink:function(){return this.$route.path+"/"+this.id}}};n("59d3");D.render=A,D.__scopeId="data-v-1b4dc4e4";var T=D;Object(r["x"])("data-v-66f534ac");var P=Object(r["i"])("h2",null,"Find Your Coach",-1),M={class:"filter-option"},J=Object(r["i"])("label",{for:"frontend"},"Frontend",-1),G={class:"filter-option"},H=Object(r["i"])("label",{for:"backend"},"Backend",-1),Y={class:"filter-option"},z=Object(r["i"])("label",{for:"career"},"Career",-1);function W(e,t,n,c,a,i){var o=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["f"])(o,null,{default:Object(r["K"])((function(){return[P,Object(r["i"])("span",M,[Object(r["i"])("input",{type:"checkbox",id:"frontend",class:"regular-checkbox big-checkbox",checked:"",onChange:t[0]||(t[0]=function(){return i.setFilter&&i.setFilter.apply(i,arguments)})},null,32),J]),Object(r["i"])("span",G,[Object(r["i"])("input",{type:"checkbox",id:"backend",class:"regular-checkbox big-checkbox",checked:"",onChange:t[1]||(t[1]=function(){return i.setFilter&&i.setFilter.apply(i,arguments)})},null,32),H]),Object(r["i"])("span",Y,[Object(r["i"])("input",{type:"checkbox",id:"career",class:"regular-checkbox big-checkbox",checked:"",onChange:t[2]||(t[2]=function(){return i.setFilter&&i.setFilter.apply(i,arguments)})},null,32),z])]})),_:1})}Object(r["v"])();var Z=n("ade3"),Q=n("5530"),X={emits:["change-filter"],data:function(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter:function(e){var t=e.target.id,n=e.target.checked,r=Object(Q["a"])(Object(Q["a"])({},this.filters),{},Object(Z["a"])({},t,n));this.filters=r,this.$emit("change-filter",r)}}};n("4671");X.render=W,X.__scopeId="data-v-66f534ac";var ee=X,te={components:{CoachItem:T,CoachFilter:ee},data:function(){return{isLoading:!1,error:null,activeFilters:{frontend:!0,backend:!0,career:!0}}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},isCoach:function(){return this.$store.getters["coaches/isCoach"]},filteredCoaches:function(){var e=this,t=this.$store.getters["coaches/coaches"];return t.filter((function(t){return!(!e.activeFilters.frontend||!t.areas.includes("frontend"))||(!(!e.activeFilters.backend||!t.areas.includes("backend"))||(!(!e.activeFilters.career||!t.areas.includes("career"))||void 0))}))},hasCoaches:function(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}},created:function(){this.loadCoaches()},methods:{setFilters:function(e){this.activeFilters=e},loadCoaches:function(){var e=arguments,t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],t.isLoading=!0,n.prev=2,n.next=5,t.$store.dispatch("coaches/loadCoaches",{forceRefresh:r});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),t.error=n.t0.message||"Something went wrong!";case 10:t.isLoading=!1;case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()},handleError:function(){this.error=null}}};n("d34e");te.render=I,te.__scopeId="data-v-654cd45b";var ne=te;Object(r["x"])("data-v-80d51ee6");var re={class:"row"},ce={class:"register"},ae=Object(r["i"])("h2",null,"Register as a coach now!",-1);function ie(e,t,n,c,a,i){var o=Object(r["C"])("coach-form"),s=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("div",re,[Object(r["i"])("section",ce,[Object(r["k"])(s,null,{default:Object(r["K"])((function(){return[ae,Object(r["k"])(o,{onSaveData:i.saveData},null,8,["onSaveData"])]})),_:1})])])}Object(r["v"])();n("ac1f"),n("5319");Object(r["x"])("data-v-16ab65e7");var oe=Object(r["i"])("label",{for:"firstname"},"Firstname",-1),se={key:0},ue=Object(r["i"])("label",{for:"lastname"},"Lastname",-1),le={key:0},de=Object(r["i"])("label",{for:"description"},"Description",-1),be={key:0},fe=Object(r["i"])("label",{for:"rate"},"Hourly Rate",-1),je={key:0},he=Object(r["i"])("h3",null,"Areas of Expertise",-1),Oe=Object(r["i"])("label",{for:"frontend"},"Frontend Development",-1),me=Object(r["i"])("label",{for:"backend"},"Backend Development",-1),pe=Object(r["i"])("label",{for:"frontend"},"Career Advisory",-1),ve={key:0},ge={key:0},ke=Object(r["j"])("Register");function ye(e,t,n,c,a,i){var o=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("form",{onSubmit:t[14]||(t[14]=Object(r["M"])((function(){return i.submitForm&&i.submitForm.apply(i,arguments)}),["prevent"]))},[Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.firstName.isValid}])},[oe,Object(r["L"])(Object(r["i"])("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.firstName.val=e}),onBlur:t[1]||(t[1]=function(e){return i.clearValidity("firstName")})},null,544),[[r["I"],a.firstName.val,void 0,{trim:!0}]]),a.firstName.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",se,"Firstname must not be empty"))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.lastName.isValid}])},[ue,Object(r["L"])(Object(r["i"])("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.lastName.val=e}),onBlur:t[3]||(t[3]=function(e){return i.clearValidity("lastName")})},null,544),[[r["I"],a.lastName.val,void 0,{trim:!0}]]),a.lastName.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",le,"Lastname must not be empty"))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.description.isValid}])},[de,Object(r["L"])(Object(r["i"])("textarea",{id:"description",rows:"5","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.description.val=e}),onBlur:t[5]||(t[5]=function(e){return i.clearValidity("description")})},null,544),[[r["I"],a.description.val,void 0,{trim:!0}]]),a.description.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",be,"Description must not be empty"))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.rate.isValid}])},[fe,Object(r["L"])(Object(r["i"])("input",{type:"number",id:"rate","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.rate.val=e}),onBlur:t[7]||(t[7]=function(e){return i.clearValidity("rate")})},null,544),[[r["I"],a.rate.val,void 0,{number:!0}]]),a.rate.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",je,"Rate must be greater than 0."))],2),Object(r["i"])("div",{class:Object(r["q"])(["form-control",{invalid:!a.areas.isValid}])},[he,Object(r["i"])("div",null,[Object(r["L"])(Object(r["i"])("input",{type:"checkbox",id:"frontend",value:"frontend","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.areas.val=e}),onBlur:t[9]||(t[9]=function(e){return i.clearValidity("areas")})},null,544),[[r["H"],a.areas.val]]),Oe]),Object(r["i"])("div",null,[Object(r["L"])(Object(r["i"])("input",{type:"checkbox",id:"backend",value:"backend","onUpdate:modelValue":t[10]||(t[10]=function(e){return a.areas.val=e}),onBlur:t[11]||(t[11]=function(e){return i.clearValidity("areas")})},null,544),[[r["H"],a.areas.val]]),me]),Object(r["i"])("div",null,[Object(r["L"])(Object(r["i"])("input",{type:"checkbox",id:"career",value:"career","onUpdate:modelValue":t[12]||(t[12]=function(e){return a.areas.val=e}),onBlur:t[13]||(t[13]=function(e){return i.clearValidity("areas")})},null,544),[[r["H"],a.areas.val]]),pe]),a.areas.isValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",ve,"At least one expertise must be selected."))],2),a.formIsValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",ge,"Please fix the above errors and submit again.")),Object(r["k"])(o,null,{default:Object(r["K"])((function(){return[ke]})),_:1})],32)}Object(r["v"])();var Ce={emits:["save-data"],data:function(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity:function(e){this[e].isValid=!0},validateForm:function(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},submitForm:function(){if(this.validateForm(),this.formIsValid){var e={first:this.firstName.val,last:this.lastName.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",e)}}}};n("0fd8");Ce.render=ye,Ce.__scopeId="data-v-16ab65e7";var we=Ce,Ie={components:{CoachForm:we},methods:{saveData:function(e){this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};n("6be7");Ie.render=ie,Ie.__scopeId="data-v-80d51ee6";var xe=Ie;Object(r["x"])("data-v-2cf9a9f3");var _e={class:"form-control"},Le=Object(r["i"])("label",null,"Your Email",-1),qe={class:"form-control"},Fe=Object(r["i"])("label",{for:"message"},"Message",-1),Re={key:0,class:"errors"},Ve={class:"actions"},Ne=Object(r["j"])("Send Message");function Ae(e,t,n,c,a,i){var o=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("form",{onSubmit:t[2]||(t[2]=Object(r["M"])((function(){return i.submitForm&&i.submitForm.apply(i,arguments)}),["prevent"]))},[Object(r["i"])("div",_e,[Le,Object(r["L"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,512),[[r["I"],a.email,void 0,{trim:!0}]])]),Object(r["i"])("div",qe,[Fe,Object(r["L"])(Object(r["i"])("textarea",{rows:"5",id:"message","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.message=e})},null,512),[[r["I"],a.message,void 0,{trim:!0}]])]),a.formIsValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",Re," Please enter a valid email and non-empty message. ")),Object(r["i"])("div",Ve,[Object(r["k"])(o,null,{default:Object(r["K"])((function(){return[Ne]})),_:1})])],32)}Object(r["v"])();var Se={data:function(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm:function(){this.formIsValid=!0,""!==this.email&&this.email.includes("@")&&""!==this.message?(this.$store.dispatch("requests/contactCoach",{email:this.email,message:this.message,coachId:this.$route.params.id}),this.$router.replace("/coaches")):this.formIsValid=!1}}};n("62a1");Se.render=Ae,Se.__scopeId="data-v-2cf9a9f3";var $e=Se;Object(r["x"])("data-v-0fd0ce90");var Be={class:"row"},Ke={class:"section"},Ee=Object(r["i"])("h2",null,"Requests Received",-1),Ue={key:1},De={key:2};function Te(e,t,n,c,a,i){var o=Object(r["C"])("base-dialog"),s=Object(r["C"])("base-spinner"),u=Object(r["C"])("request-item"),l=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("div",null,[Object(r["k"])(o,{show:!!a.error,title:"An error occured",onClose:i.handleError},{default:Object(r["K"])((function(){return[Object(r["i"])("p",null,Object(r["F"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])("div",Be,[Object(r["i"])("section",Ke,[Object(r["k"])(l,null,{default:Object(r["K"])((function(){return[Object(r["i"])("header",null,[Ee,a.isLoading?(Object(r["u"])(),Object(r["f"])(s,{key:0})):i.hasRequests&&!a.isLoading?(Object(r["u"])(),Object(r["h"])("ul",Ue,[(Object(r["u"])(!0),Object(r["h"])(r["a"],null,Object(r["A"])(i.receivedRequests,(function(e){return Object(r["u"])(),Object(r["f"])(u,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"])})),128))])):(Object(r["u"])(),Object(r["h"])("h3",De,"You haven't received any requests yest!"))])]})),_:1})])])])}Object(r["v"])(),Object(r["x"])("data-v-d2230f76");var Pe=["href"];function Me(e,t,n,c,a,i){return Object(r["u"])(),Object(r["h"])("li",null,[Object(r["i"])("div",null,[Object(r["i"])("a",{href:i.emailLink},Object(r["F"])(n.email),9,Pe)]),Object(r["i"])("p",null,Object(r["F"])(n.message),1)])}Object(r["v"])();var Je={props:["email","message"],computed:{emailLink:function(){return"mailto:"+this.email}}};n("6bd6");Je.render=Me,Je.__scopeId="data-v-d2230f76";var Ge=Je,He={components:{RequestItem:Ge},data:function(){return{isLoading:!1,error:!1}},computed:{receivedRequests:function(){return this.$store.getters["requests/requests"]},hasRequests:function(){return this.$store.getters["requests/hasRequests"]}},created:function(){this.loadRequests()},methods:{loadRequests:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("requests/fetchRequests");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.message||"Something failed!";case 9:e.isLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},handleError:function(){this.error=null}}};n("a25e");He.render=Te,He.__scopeId="data-v-0fd0ce90";var Ye=He;Object(r["x"])("data-v-f6f2764c");var ze={class:"row"},We={class:"msg"},Ze=Object(r["j"])(" Sorry, not found. Check out all our "),Qe=Object(r["j"])("coaches"),Xe=Object(r["j"])(" instead "),et=Object(r["i"])("div",{class:"astro-wrap"},[Object(r["i"])("a",{class:"astronaut",href:"#",title:"return to base"})],-1);function tt(e,t){var n=Object(r["C"])("router-link");return Object(r["u"])(),Object(r["h"])("section",ze,[Object(r["i"])("h1",We,[Ze,Object(r["k"])(n,{to:"/coaches"},{default:Object(r["K"])((function(){return[Qe]})),_:1}),Xe]),et])}Object(r["v"])();n("1465");const nt={};nt.render=tt,nt.__scopeId="data-v-f6f2764c";var rt=nt;Object(r["x"])("data-v-65d18568");var ct={class:"row"},at=Object(r["i"])("p",null,"Authenticating...",-1),it=Object(r["i"])("hr",{class:"hr-icon"},null,-1),ot={class:"form-control"},st=Object(r["i"])("label",{for:"email"},"E-Mail",-1),ut={class:"form-control"},lt=Object(r["i"])("label",{for:"password"},"Password",-1),dt={key:0};function bt(e,t,n,c,a,i){var o=Object(r["C"])("base-dialog"),s=Object(r["C"])("base-spinner"),u=Object(r["C"])("center"),l=Object(r["C"])("base-button"),d=Object(r["C"])("base-card");return Object(r["u"])(),Object(r["h"])("div",ct,[Object(r["k"])(o,{show:!!a.error,title:"An error occured",onClose:i.handleError},{default:Object(r["K"])((function(){return[Object(r["i"])("p",null,Object(r["F"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["k"])(o,{show:a.isLoading,title:"Authenticating...",fixed:""},{default:Object(r["K"])((function(){return[at,Object(r["k"])(s)]})),_:1},8,["show"]),Object(r["k"])(d,null,{default:Object(r["K"])((function(){return[Object(r["k"])(u,null,{default:Object(r["K"])((function(){return[Object(r["i"])("h3",null,Object(r["F"])(i.submitButtonCaption),1)]})),_:1}),it,Object(r["i"])("form",{onSubmit:t[2]||(t[2]=Object(r["M"])((function(){return i.submitForm&&i.submitForm.apply(i,arguments)}),["prevent"]))},[Object(r["i"])("div",ot,[st,Object(r["L"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,512),[[r["I"],a.email,void 0,{trim:!0}]])]),Object(r["i"])("div",ut,[lt,Object(r["L"])(Object(r["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e})},null,512),[[r["I"],a.password,void 0,{trim:!0}]])]),a.formIsValid?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("p",dt," Please enter a valid email and password (must be at least 6 characters long) ")),Object(r["k"])(l,null,{default:Object(r["K"])((function(){return[Object(r["j"])(Object(r["F"])(i.submitButtonCaption),1)]})),_:1}),Object(r["k"])(l,{type:"button",mode:"flat",onClick:i.switchAuthMode},{default:Object(r["K"])((function(){return[Object(r["j"])(Object(r["F"])(i.switchModeButtonCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])}Object(r["v"])();var ft={data:function(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption:function(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{submitForm:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formIsValid=!0,""!==e.email&&e.email.includes("@")&&!(e.password.length<6)){t.next=4;break}return e.formIsValid=!1,t.abrupt("return");case 4:if(e.isLoading=!0,n={email:e.email,password:e.password},t.prev=6,"login"!==e.mode){t.next=12;break}return t.next=10,e.$store.dispatch("login",n);case 10:t.next=14;break;case 12:return t.next=14,e.$store.dispatch("signup",n);case 14:r="/"+(e.$route.query.redirect||"coaches"),e.$router.replace(r),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](6),e.error=t.t0.message||"Failed to authenticate, try later.";case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[6,18]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.error=null}}};n("a3ad");ft.render=bt,ft.__scopeId="data-v-65d18568";var jt,ht=ft,Ot=n("5502"),mt={registerCoachstate:function(e,t){e.coaches.push(t)},setCoaches:function(e,t){e.coaches=t},setFetchTimestamp:function(e){e.lastFetch=(new Date).getTime()}},pt=(n("d3b7"),{registerCoach:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,c,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.rootGetters.userId,c={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},a=e.rootGetters.token,n.next=5,fetch("https://vue-http-demo-c17aa-default-rtdb.firebaseio.com/coaches/".concat(r,".json?auth=")+a,{method:"PUT",body:JSON.stringify(c)});case 5:i=n.sent,i.ok,e.commit("registerCoachstate",Object(Q["a"])(Object(Q["a"])({},c),{},{id:r}));case 8:case"end":return n.stop()}}),n)})))()},loadCoaches:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,c,a,i,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.forceRefresh||e.getters.shouldUpdate){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch("https://vue-http-demo-c17aa-default-rtdb.firebaseio.com/coaches.json");case 4:return r=n.sent,n.next=7,r.json();case 7:if(c=n.sent,r.ok){n.next=11;break}throw a=new Error(c.message||"Failed to fetch!"),a;case 11:for(o in i=[],c)s={id:o,firstName:c[o].firstName,lastName:c[o].lastName,description:c[o].description,hourlyRate:c[o].hourlyRate,areas:c[o].areas},i.push(s);e.commit("setCoaches",i),e.commit("setFetchTimestamp");case 15:case"end":return n.stop()}}),n)})))()}}),vt={coaches:function(e){return e.coaches},hasCoaches:function(e){return e.coaches&&e.coaches.length>0},isCoach:function(e,t,n,r){var c=t.coaches,a=r.userId;return c.some((function(e){return e.id==a}))},shouldUpdate:function(e){var t=e.lastFetch;if(!t)return!0;var n=(new Date).getTime();return(n-t)/1e3>60}},gt={namespaced:!0,state:function(){return{lastFetch:null,coaches:[{id:"c1",firstName:"Maximilian",lastName:"Schwarzmüller",areas:["frontend","backend","career"],description:"I'm Maximilian and I've worked as a freelance web developer for years. Let me help you become a developer as well!",hourlyRate:30},{id:"c2",firstName:"Julie",lastName:"Jones",areas:["frontend","career"],description:"I am Julie and as a senior developer in a big tech company, I can help you get your first job or progress in your current role.",hourlyRate:30}]}},mutations:mt,actions:pt,getters:vt},kt={addRequest:function(e,t){e.requests.push(t)},setRequests:function(e,t){console.log("Test",e.requests,t),e.requests=t}},yt=(n("b0c0"),{contactCoach:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,c,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={userEmail:t.email,message:t.message},n.next=3,fetch("https://vue-http-demo-c17aa-default-rtdb.firebaseio.com/requests/".concat(t.coachId,".json"),{method:"POST",body:JSON.stringify(r)});case 3:return c=n.sent,n.next=6,c.json();case 6:if(a=n.sent,c.ok){n.next=10;break}throw i=new Error(a.message||"Failed to send request."),i;case 10:r.id=a.name,r.coachId=t.coachId,e.commit("addRequest",r);case 13:case"end":return n.stop()}}),n)})))()},fetchRequests:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a,i,o,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootGetters.userId,r=e.rootGetters.token,console.log(n),t.next=5,fetch("https://vue-http-demo-c17aa-default-rtdb.firebaseio.com/requests/".concat(n,".json?auth=")+r);case 5:return c=t.sent,t.next=8,c.json();case 8:if(a=t.sent,c.ok){t.next=12;break}throw i=new Error(a.message||"Failed to fetch request."),i;case 12:for(s in o=[],a)u={id:s,coachId:n,userEmail:a[s].userEmail,message:a[s].message},o.push(u);e.commit("setRequests",o);case 15:case"end":return t.stop()}}),t)})))()}}),Ct={requests:function(e,t,n,r){var c=r.userId;return e.requests.filter((function(e){return e.coachId===c}))},hasRequests:function(e,t){return t.requests&&t.requests.length>0}},wt={namespaced:!0,state:function(){return{requests:[]}},mutations:kt,actions:yt,getters:Ct},It={setUser:function(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAutoLogout:function(e){e.didAutoLogout=!0}},xt={login:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",Object(Q["a"])(Object(Q["a"])({},t),{},{mode:"login"})));case 1:case"end":return n.stop()}}),n)})))()},signup:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",Object(Q["a"])(Object(Q["a"])({},t),{},{mode:"signup"})));case 1:case"end":return n.stop()}}),n)})))()},auth:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,c,a,i,o,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.mode,c="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAcdRYxuEh6GBwDSqpAJnw6gJpWkdUfVZA","signup"===r&&(c="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAcdRYxuEh6GBwDSqpAJnw6gJpWkdUfVZA"),n.next=5,fetch(c,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})});case 5:return a=n.sent,n.next=8,a.json();case 8:if(i=n.sent,a.ok){n.next=12;break}throw o=new Error(i.message||"Failed to authenticate. Check your login data."),o;case 12:s=1e3*+i.expiresIn,u=(new Date).getTime()+s,localStorage.setItem("token",i.idToken),localStorage.setItem("userId",i.localId),localStorage.setItem("tokenExpiration",u),jt=setTimeout((function(){e.dispatch("autoLogout")}),s),e.commit("setUser",{token:i.idToken,userId:i.localId});case 19:case"end":return n.stop()}}),n)})))()},tryLogin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=localStorage.getItem("tokenExpiration"),c=+r-(new Date).getTime();c<0||(setTimeout((function(){e.dispatch("autoLogout")}),c),t&&n&&e.commit("setUser",{token:t,userId:n}))},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(jt),e.commit("setUser",{token:null,userId:null})},autoLogout:function(e){e.dispatch("logout"),e.commit("setAutoLogout")}},_t={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didAutoLogout:function(e){return e.didAutoLogout}},Lt={state:function(){return{userId:null,token:null,didAutoLogout:!1}},mutations:It,actions:xt,getters:_t},qt=Object(Ot["a"])({modules:{coaches:gt,requests:wt,auth:Lt}}),Ft=qt,Rt=Object(c["a"])({history:Object(c["b"])(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:ne},{path:"/coaches/:id",component:j,props:!0,children:[{path:"contact",component:$e}]},{path:"/register",component:xe,meta:{requiresAuth:!0}},{path:"/requests",component:Ye,meta:{requiresAuth:!0}},{path:"/auth",component:ht,meta:{requiresUnauth:!0}},{path:"/:notFound(.*)",component:rt}]});Rt.beforeEach((function(e,t,n){e.meta.requiresAuth&&!Ft.getters.isAuthenticated?n("/auth"):e.meta.requiresUnauth&&Ft.getters.isAuthenticated?n("/coaches"):n()}));var Vt=Rt;function Nt(e,t,n,c,a,i){var o=Object(r["C"])("the-header"),s=Object(r["C"])("router-view");return Object(r["u"])(),Object(r["h"])(r["a"],null,[Object(r["k"])(o),Object(r["k"])(s,null,{default:Object(r["K"])((function(e){return[Object(r["k"])(r["c"],{name:"route",mode:"out-in"},{default:Object(r["K"])((function(){return[(Object(r["u"])(),Object(r["f"])(Object(r["D"])(e.Component)))]})),_:2},1024)]})),_:1})],64)}Object(r["x"])("data-v-5cb4b452");var At=Object(r["j"])("Find a Coach"),St=Object(r["j"])("All Coaches"),$t={key:0},Bt=Object(r["j"])("Requests"),Kt={key:1},Et=Object(r["j"])("Login"),Ut={key:2},Dt=Object(r["j"])("Logout");function Tt(e,t,n,c,a,i){var o=Object(r["C"])("router-link"),s=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["h"])("header",null,[Object(r["i"])("nav",null,[Object(r["i"])("h1",null,[Object(r["k"])(o,{to:"/"},{default:Object(r["K"])((function(){return[At]})),_:1})]),Object(r["i"])("ul",null,[Object(r["i"])("li",null,[Object(r["k"])(o,{to:"/coaches"},{default:Object(r["K"])((function(){return[St]})),_:1})]),i.isLoggedIn?(Object(r["u"])(),Object(r["h"])("li",$t,[Object(r["k"])(o,{to:"/requests"},{default:Object(r["K"])((function(){return[Bt]})),_:1})])):(Object(r["u"])(),Object(r["h"])("li",Kt,[Object(r["k"])(o,{to:"/auth"},{default:Object(r["K"])((function(){return[Et]})),_:1})])),i.isLoggedIn?(Object(r["u"])(),Object(r["h"])("li",Ut,[Object(r["k"])(s,{onClick:i.logout},{default:Object(r["K"])((function(){return[Dt]})),_:1},8,["onClick"])])):Object(r["g"])("",!0)])])])}Object(r["v"])();var Pt={computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.replace("/coaches")}}};n("05ac");Pt.render=Tt,Pt.__scopeId="data-v-5cb4b452";var Mt=Pt,Jt={components:{TheHeader:Mt},computed:{didAutoLogout:function(){return this.$store.getters.didAutoLogout}},created:function(){this.$store.dispatch("tryLogin")},watch:{didAutoLogout:function(e,t){console.log(e),e&&e!==t&&this.$router.replace("/coaches")}}};n("fb5d");Jt.render=Nt;var Gt=Jt;Object(r["x"])("data-v-146b3d1b");var Ht={class:"card"};function Yt(e,t){return Object(r["u"])(),Object(r["h"])("div",Ht,[Object(r["B"])(e.$slots,"default",{},void 0,!0)])}Object(r["v"])();n("34ef");const zt={};zt.render=Yt,zt.__scopeId="data-v-146b3d1b";var Wt=zt;Object(r["x"])("data-v-f7f20abc");var Zt={class:"spinner"},Qt=Object(r["i"])("div",{class:"lds-roller"},[Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div")],-1),Xt=[Qt];function en(e,t){return Object(r["u"])(),Object(r["h"])("div",Zt,Xt)}Object(r["v"])();n("b030");const tn={};tn.render=en,tn.__scopeId="data-v-f7f20abc";var nn=tn;n("c7cd");Object(r["x"])("data-v-3677624a");var rn={key:0,open:""},cn={key:0},an=Object(r["j"])("Close");function on(e,t,n,c,a,i){var o=Object(r["C"])("base-button");return Object(r["u"])(),Object(r["f"])(r["b"],{to:"body"},[n.show?(Object(r["u"])(),Object(r["h"])("div",{key:0,onClick:t[0]||(t[0]=function(){return i.tryClose&&i.tryClose.apply(i,arguments)}),class:"backdrop"})):Object(r["g"])("",!0),Object(r["k"])(r["c"],{name:"dialog"},{default:Object(r["K"])((function(){return[n.show?(Object(r["u"])(),Object(r["h"])("dialog",rn,[Object(r["i"])("header",null,[Object(r["B"])(e.$slots,"header",{},(function(){return[Object(r["i"])("h2",null,Object(r["F"])(n.title),1)]}),{},!0)]),Object(r["i"])("section",null,[Object(r["B"])(e.$slots,"default",{},void 0,!0)]),n.fixed?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["h"])("menu",cn,[Object(r["B"])(e.$slots,"actions",{},(function(){return[Object(r["k"])(o,{onClick:i.tryClose},{default:Object(r["K"])((function(){return[an]})),_:1},8,["onClick"])]}),{},!0)]))])):Object(r["g"])("",!0)]})),_:3})])}Object(r["v"])();var sn={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose:function(){this.fixed||this.$emit("close")}}};n("4007");sn.render=on,sn.__scopeId="data-v-3677624a";var un=sn,ln=Object(r["e"])(Gt);ln.use(Vt),ln.use(Ft),ln.component("BaseCard",Wt),ln.component("BaseButton",U),ln.component("BaseBadge",B),ln.component("BaseSpinner",nn),ln.component("BaseDialog",un),ln.mount("#app")},"59d3":function(e,t,n){"use strict";n("e566")},"62a1":function(e,t,n){"use strict";n("baf2")},"6bd6":function(e,t,n){"use strict";n("d4a5")},"6be7":function(e,t,n){"use strict";n("7af5")},"7af5":function(e,t,n){},"7bd6":function(e,t,n){},"80e8":function(e,t,n){"use strict";n("2086")},"8d30":function(e,t,n){},"8f14":function(e,t,n){},a25e:function(e,t,n){"use strict";n("8f14")},a3ad:function(e,t,n){"use strict";n("8d30")},b030:function(e,t,n){"use strict";n("3aaa")},baf2:function(e,t,n){},bde8:function(e,t,n){},c19e:function(e,t,n){},d34e:function(e,t,n){"use strict";n("c19e")},d4a5:function(e,t,n){},d63a:function(e,t,n){},e566:function(e,t,n){},e5b9:function(e,t,n){},eda3:function(e,t,n){},fb5d:function(e,t,n){"use strict";n("03ff")}});
//# sourceMappingURL=app.3d7e1005.js.map